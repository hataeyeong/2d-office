/**
 * 맵 데이터 - 20x15 타일 사무실 레이아웃
 * 타일 인덱스는 타일셋에서 0부터 시작
 * -1 = 빈 타일 (투명)
 */

// 타일 인덱스 상수 (타일셋 디버그 뷰어로 확인된 값)
const TILES = {
    // 바닥 (Row 30+)
    FLOOR_GRAY: 480,     // 회색 카펫 바닥
    FLOOR_GRAY2: 481,    // 회색 카펫 변형
    FLOOR_WOOD: 640,     // 나무 바닥
    FLOOR_WOOD2: 641,    // 나무 바닥 변형

    // 파티션/벽 (Row 0-2)
    PARTITION_TL: 0,     // 파티션 상단 좌측
    PARTITION_T: 1,      // 파티션 상단
    PARTITION_TR: 2,     // 파티션 상단 우측
    PARTITION_L: 16,     // 파티션 좌측
    PARTITION_M: 17,     // 파티션 중앙
    PARTITION_R: 18,     // 파티션 우측
    PARTITION_BL: 32,    // 파티션 하단 좌측
    PARTITION_B: 33,     // 파티션 하단
    PARTITION_BR: 34,    // 파티션 하단 우측

    // 의자 (Row 27)
    CHAIR_BLUE: 432,     // 파란 의자
    CHAIR_BLUE2: 433,    // 파란 의자 변형
    CHAIR_GRAY: 434,     // 회색 의자

    // 책상 (Row 19-20)
    DESK_L: 304,         // 긴 책상 좌측
    DESK_M: 305,         // 긴 책상 중앙
    DESK_R: 306,         // 긴 책상 우측
    DESK_SINGLE: 320,    // 단일 책상

    // 소파 (Row 8)
    SOFA_L: 128,         // 소파 좌측
    SOFA_M: 129,         // 소파 중앙
    SOFA_R: 130,         // 소파 우측

    // 테이블
    TABLE_COFFEE: 416,   // 커피 테이블

    // 장식/식물 (Row 32-33)
    PLANT_BIG: 525,      // 큰 식물
    PLANT_SMALL: 526,    // 작은 식물

    // 전자기기
    MONITOR: 461,        // 모니터
    COMPUTER: 462,       // 컴퓨터
    PRINTER: 510,        // 프린터

    // 기타
    WHITEBOARD: 169,     // 화이트보드
};

// 맵 설정
const MAP_CONFIG = {
    width: 20,
    height: 15,
    tileSize: 32
};

// F = FLOOR_GRAY (480)
const F = 480;
// W = FLOOR_WOOD (640)
const W = 640;

// 레이어 1: 바닥
const floorLayer = [
    // 행 0-4: 임원실 + 회의실
    [F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F],
    [F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F],
    [F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F],
    [F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F],
    [F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F],
    // 행 5-10: 오픈 오피스
    [F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F],
    [F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F],
    [F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F],
    [F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F],
    [F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F],
    [F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F, F],
    // 행 11-14: 휴게실(나무) + 로비(카펫)
    [W, W, W, W, W, W, W, W, F, F, F, F, F, F, F, F, F, F, F, F],
    [W, W, W, W, W, W, W, W, F, F, F, F, F, F, F, F, F, F, F, F],
    [W, W, W, W, W, W, W, W, F, F, F, F, F, F, F, F, F, F, F, F],
    [W, W, W, W, W, W, W, W, F, F, F, F, F, F, F, F, F, F, F, F],
];

// 파티션 벽
const P_T = 1;   // 파티션 상단
const P_L = 16;  // 파티션 좌측
const P_B = 33;  // 파티션 하단

// 레이어 2: 벽/파티션
const wallLayer = [
    // 외벽 상단
    [P_T, P_T, P_T, P_T, P_T, P_T, P_T, P_T, P_T, P_T, P_T, P_T, P_T, P_T, P_T, P_T, P_T, P_T, P_T, P_T],
    [-1, -1, -1, -1, -1, -1, -1, P_L, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    [-1, -1, -1, -1, -1, -1, -1, P_L, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    [-1, -1, -1, -1, -1, -1, -1, P_L, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    [P_B, P_B, P_B, -1, -1, P_B, P_B, P_B, P_B, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, P_B],
    // 오픈 오피스 영역
    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    [P_T, P_T, P_T, P_T, P_T, P_T, P_T, P_T, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    // 휴게실/로비 구분
    [-1, -1, -1, -1, -1, -1, -1, P_L, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    [-1, -1, -1, -1, -1, -1, -1, P_L, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    [-1, -1, -1, -1, -1, -1, -1, P_L, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    [P_B, P_B, P_B, P_B, P_B, P_B, P_B, P_B, P_B, P_B, P_B, P_B, P_B, P_B, P_B, P_B, P_B, P_B, P_B, P_B],
];

// 가구 타일
const DESK = 320;    // 책상
const CHAIR = 432;   // 의자
const SOFA_L = 128;  // 소파 좌
const SOFA_M = 129;  // 소파 중
const SOFA_R = 130;  // 소파 우
const TABLE = 416;   // 테이블
const DESK_L = 304;  // 긴 책상 좌
const DESK_M = 305;  // 긴 책상 중
const DESK_R = 306;  // 긴 책상 우

// 레이어 3: 가구
const furnitureLayer = [
    // 임원실 + 회의실
    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    [-1, DESK, DESK, -1, -1, -1, -1, -1, -1, DESK_L, DESK_M, DESK_M, DESK_M, DESK_M, DESK_R, -1, -1, -1, -1, -1],
    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    [-1, CHAIR, -1, -1, -1, -1, -1, -1, -1, CHAIR, CHAIR, CHAIR, CHAIR, CHAIR, CHAIR, -1, -1, -1, -1, -1],
    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    // 오픈 오피스 - 책상들
    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    [-1, DESK, -1, -1, DESK, -1, -1, DESK, -1, -1, DESK, -1, -1, DESK, -1, -1, DESK, -1, -1, -1],
    [-1, CHAIR, -1, -1, CHAIR, -1, -1, CHAIR, -1, -1, CHAIR, -1, -1, CHAIR, -1, -1, CHAIR, -1, -1, -1],
    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    [-1, DESK, -1, -1, DESK, -1, -1, DESK, -1, -1, DESK, -1, -1, DESK, -1, -1, DESK, -1, -1, -1],
    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    // 휴게실 + 로비
    [-1, SOFA_L, SOFA_M, SOFA_R, -1, -1, -1, -1, -1, -1, DESK, DESK, -1, -1, -1, -1, -1, -1, -1, -1],
    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    [-1, -1, TABLE, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, CHAIR, CHAIR, -1, -1, -1, -1, -1],
    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
];

// 장식 타일
const PLANT = 525;     // 식물
const MONITOR = 461;   // 모니터
const PRINTER = 510;   // 프린터

// 레이어 4: 장식
const decorationLayer = [
    // 임원실 장식
    [-1, -1, -1, -1, -1, PLANT, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, PLANT, -1],
    [-1, MONITOR, MONITOR, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    // 오픈 오피스 모니터 + 프린터
    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, PRINTER, -1],
    [-1, MONITOR, -1, -1, MONITOR, -1, -1, MONITOR, -1, -1, MONITOR, -1, -1, MONITOR, -1, -1, MONITOR, -1, -1, -1],
    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    [-1, MONITOR, -1, -1, MONITOR, -1, -1, MONITOR, -1, -1, MONITOR, -1, -1, MONITOR, -1, -1, MONITOR, -1, -1, -1],
    [-1, -1, -1, -1, -1, -1, -1, -1, -1, PLANT, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    // 휴게실/로비 장식
    [-1, -1, -1, -1, -1, -1, PLANT, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, PLANT, -1, -1],
    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],
    [-1, -1, -1, -1, PLANT, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, PLANT, -1, -1, -1],
];

// 맵 데이터 내보내기
const MAP_DATA = {
    floor: floorLayer,
    walls: wallLayer,
    furniture: furnitureLayer,
    decorations: decorationLayer
};
